(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e25cb08e"],{"68c4":function(t,e,a){"use strict";a.r(e);a("96cf");var i=a("3b8d"),n=a("acf9"),s={name:"articleAdd",data:function(){return{inputTitle:"",uploadState:!1,addressImg:"http://59.110.227.223:8088/api/nzzndata/web/show/uploadimage",imgUrl:"",isImg:1,checkList:[],textType:"合作机会",setTopState:"0",editor:"",txtDetail:""}},mounted:function(){if(this.editor)return!1;var t=window.wangEditor,e=new t("#article-edit");e.customConfig.uploadImgServer=this.addressImg,e.customConfig.showLinkImg=!0,e.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","image","table","code","undo"],e.customConfig.uploadImgMaxLength=1,e.customConfig.uploadFileName="file",e.customConfig.uploadImgHooks={customInsert:function(t,e){var a=e.message;t(a)}},e.create(),this.editor=e},methods:{handChange:function(){},handleAvatarSuccess:function(t,e){var a=t.message;this.imgUrl=a},verifyInfo:function(){return this.inputTitle.trim().length<=0?(this.$message.error("请输入标题"),!1):!(this.inputTitle.length>50)||(this.$message.error("标题字数不应超过50字"),!1)},handAddArticle:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.verifyInfo()){t.next=2;break}return t.abrupt("return");case 2:return e={title:this.inputTitle,contentTxt:this.editor.txt.html(),coverImg:this.imgUrl,pushAddress:this.checkList,articleType:this.textType,state:1,setTop:this.setTopState},t.next=5,Object(n["j"])(e);case 5:a=t.sent,this.$message(a),this.$router.push("/articleAdmin/articleShow/articleList/");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clearData:function(){this.inputTitle="",this.editor.txt.html="",this.imgUrl="",this.checkList=[],this.textType="合作机会"}},watch:{isImg:function(t){2==t?(this.imgUrl="",this.uploadState=!0):1==t&&(this.uploadState=!1)}}},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fillcontain"},[a("el-card",{staticStyle:{"margin-bottom":"20px"},attrs:{shadow:"never"}},[a("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入标题"},model:{value:t.inputTitle,callback:function(e){t.inputTitle=e},expression:"inputTitle"}})],1),t._v(" "),a("div",{staticClass:"img-select-w"},[a("div",{staticClass:"left"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.addressImg,"show-file-list":!1,"on-change":t.handChange,name:"file",disabled:t.uploadState,"on-success":t.handleAvatarSuccess}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("div",{staticClass:"right"},[a("el-radio-group",{model:{value:t.isImg,callback:function(e){t.isImg=e},expression:"isImg"}},[a("el-radio",{attrs:{label:1}},[t._v("封面有图(建议比例 11：8)")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("封面无图")])],1)],1)]),t._v(" "),a("div",{staticClass:"img-select-web"},[a("div",{staticStyle:{display:"flex"}},[a("span",[t._v("推送网站")]),t._v("   \n            "),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"'天知官网'"}},[t._v("天知官网")]),t._v(" "),a("el-checkbox",{attrs:{label:"'参考消息'"}},[t._v("参考消息")])],1)],1),t._v(" "),a("br"),t._v(" "),a("div",[a("span",[t._v("文章类型")]),t._v(" "),a("el-radio-group",{model:{value:t.textType,callback:function(e){t.textType=e},expression:"textType"}},[a("el-radio",{attrs:{label:"合作机会"}},[t._v("合作机会")]),t._v(" "),a("el-radio",{attrs:{label:"行业点评"}},[t._v("行业点评")]),t._v(" "),a("el-radio",{attrs:{label:"公司观点"}},[t._v("公司观点")])],1)],1),t._v(" "),a("br"),t._v(" "),a("div",[a("span",[t._v("是否置顶")]),t._v(" "),a("el-radio-group",{model:{value:t.setTopState,callback:function(e){t.setTopState=e},expression:"setTopState"}},[a("el-radio",{attrs:{label:"0"}},[t._v("非置顶")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("置顶")])],1)],1)]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"article-edit-btn",staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handAddArticle()}}},[t._v("发布")])],1)],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-edit-c"},[a("div",{staticClass:"article-edit",attrs:{id:"article-edit"}})])}],c=a("2455");function o(t){a("b9af")}var d=!1,u=o,p="data-v-5f1c7dc5",h=null,v=Object(c["a"])(s,r,l,d,u,p,h);e["default"]=v.exports},"776b":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"\n.article-edit-c[data-v-5f1c7dc5] {\n    padding: 10px;\n    background: #fff;\n}\n.img-select-w[data-v-5f1c7dc5] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    background: #fff;\n}\n.avatar-uploader[data-v-5f1c7dc5] {\n    margin: 10px 10px 0;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-5f1c7dc5]:hover {\n    border-color: #409EFF;\n}\n.avatar-uploader-icon[data-v-5f1c7dc5] {\n    font-size: 28px;\n    color: #8c939d;\n    width: 150px;\n    height: 150px;\n    line-height: 150px;\n    text-align: center;\n}\n.avatar[data-v-5f1c7dc5] {\n    width: 150px;\n    height: 150px;\n    display: block;\n}\n.img-select-web[data-v-5f1c7dc5] {\n    padding: 10px;\n    background-color: white;\n}\n.article-edit-btn[data-v-5f1c7dc5] {\n    padding: 10px;\n    background-color: white;\n}\n",""])},b9af:function(t,e,a){var i=a("776b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("5143e4f4",i,!0,{})}}]);