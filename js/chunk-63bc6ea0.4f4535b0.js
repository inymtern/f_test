(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63bc6ea0"],{"1c01":function(e,t,n){var a=n("b750");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("499e").default;r("a16e3c10",a,!0,{})},4917:function(e,t,n){"use strict";var a=n("cb7c"),r=n("9def"),o=n("0390"),i=n("5f1b");n("214f")("match",1,(function(e,t,n,s){return[function(n){var a=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,a):new RegExp(n)[t](String(a))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=a(e),m=String(this);if(!c.global)return i(c,m);var l=c.unicode;c.lastIndex=0;var h,g=[],p=0;while(null!==(h=i(c,m))){var u=String(h[0]);g[p]=u,""===u&&(c.lastIndex=o(m,r(c.lastIndex),l)),p++}return 0===p?null:g}]}))},b750:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\nimg[data-v-0ccc41c4] {\n    width: auto;\n    height: 50px;\n    max-width: 100%;\n    max-height: 100%;\n}\n.van-cell[data-v-0ccc41c4]{\n    height: 50px;\n}\n.upload[data-v-0ccc41c4] {\n    color: #4879FD;\n}\n.inputFont[data-v-0ccc41c4] {\n    font-size: 15px;\n    font-family: PingFang SC;\n    font-weight: 200;\n    color: rgba(193, 193, 193, 1);\n}\n.info-iocn[data-v-0ccc41c4] {\n    width: 16px;\n    height: 16px;\n    padding-top: 4px;\n    padding-right: 4px;\n}\n.name[data-v-0ccc41c4] {\n    text-align: center;\n    font-size: 21px;\n    font-family: PingFang SC;\n    font-weight: 500;\n    color: rgba(0, 6, 22, 1);\n    margin-top: 1px;\n}\n.state[data-v-0ccc41c4] {\n    left: 0px;\n    right: 0px;\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n    font-size: 12px;\n    font-family: PingFang SC;\n    font-weight: 400;\n    margin-top: 19px;\n}\n.state-bt[data-v-0ccc41c4] {\n    color: rgba(192, 0, 0, 1);\n    height: 29px;\n    min-width: 84px;\n    border: 1px solid rgba(192, 0, 0, 1);\n    opacity: 0.5;\n    border-radius: 6px;\n}\n.main-info[data-v-0ccc41c4] {\n    padding-top: 15px;\n    background-color: #FAFAFA;\n}\n.avat[data-v-0ccc41c4] {\n    left: 0px;\n    right: 0px;\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 15px;\n}\n#btnSubmit[data-v-0ccc41c4]{\n    width: 345px;\n    height: 44px;\n    line-height: 38px;\n    margin: 0 auto;\n    display: block;\n}\n",""])},da93:function(e,t,n){"use strict";n.r(t);n("8e6e"),n("7f7f"),n("34ef"),n("4917"),n("28a5"),n("96cf");var a=n("3b8d"),r=(n("ac6a"),n("456d"),n("bd86")),o=(n("cebe"),n("1ca8")),i=n("5880"),s=n("d399"),c=n("5f87"),m=n("c24f"),l=n("5f72");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"authenInfo",data:function(){return{img:{companyImg:"",corporationZImg:"",corporationFImg:"",operatorZImg:"",operatorFImg:""},errorMessage:{eCName:"",eLinkName:"",eEmail:"",eLinkPhone:"",eLinkJob:"",eAddress:"",eOwnerName:"",eOwnerPhone:""},value:"上传",btn:!1,show:!1,actions:[{name:"选择照片"}],merchantForm:{phone:"",companyName:"",scope:"",ownerName:"",identType:"",identId:"",address:"",operatingPeriod:"",startTime:"",identUrl:"",corporationZUrl:"",corporationFUrl:"",operatorZUrl:"",operatorFUrl:"",companyType:"",regCapital:"",ownerPhone:"",linkmanJob:"",offiAddr:"",linkmanPhone:"",linkmanEmail:"",linkmanName:"",stateCd:"",type:"商户"},requestM:{photo:"un init=====",suffix:""}}},mounted:function(){this.merchantForm.linkmanPhone=this.phone},methods:g({go:function(){this.$router.push("/commitSuccess")},clearErrorMessage:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];e[a]=""}},validate:function(){this.clearErrorMessage(this.errorMessage);var e=!0,t=/^1[345789][0-9]{9}$/;return this.merchantForm.companyName?this.errorMessage.eCName="":(e=!1,this.errorMessage.eCName="企业名称不能为空"),this.merchantForm.linkmanName?this.errorMessage.eLinkName="":(e=!1,this.errorMessage.eLinkName="企业联系人姓名不能为空"),this.merchantForm.offiAddr?this.errorMessage.eAddress="":(e=!1,this.errorMessage.eAddress="办公地址不能为空"),this.merchantForm.ownerName?this.errorMessage.eOwnerName="":(e=!1,this.errorMessage.eOwnerName="法人姓名不能为空"),this.merchantForm.linkmanPhone&&t.test(this.merchantForm.linkmanPhone)?this.errorMessage.eLinkPhone="":(e=!1,this.errorMessage.eLinkPhone="需填写正确的手机号"),this.img.companyImg?this.img.corporationZImg?this.img.corporationFImg?this.img.operatorZImg?(this.img.operatorFImg||(Object(l["Message"])({showClose:!0,iconClass:" ",customClass:"messageStyle",message:"经办人身份证反面照未上传",type:"error"}),e=!1),e):(Object(l["Message"])({showClose:!0,iconClass:" ",customClass:"messageStyle",message:"经办人身份证正面照未上传",type:"error"}),e=!1,e):(Object(l["Message"])({showClose:!0,iconClass:" ",customClass:"messageStyle",message:"法人身份证反面照未上传",type:"error"}),e=!1,e):(Object(l["Message"])({showClose:!0,iconClass:" ",customClass:"messageStyle",message:"法人身份证正面照未上传",type:"error"}),e=!1,e):(Object(l["Message"])({showClose:!0,iconClass:" ",customClass:"messageStyle",message:"营业执照未上传",type:"error"}),e=!1,e)},submitF:function(){var e=this;this.validate()&&(this.merchantForm.stateCd="1",this.merchantForm.phone=this.phone,Object(o["k"])(this.merchantForm).then((function(t){var n=Object(c["a"])("Token"),a={token:n};e.go(),Object(m["a"])(a).then((function(t){var n=t;e["SET_STATE"](n.state)}))})).catch((function(e){})))},uploadPhoto:function(e){var t=document.getElementById("choosePhoto"+e);t.click()},dealImage:function(e,t,n,r,i){var c,m,l=this,h="",g=new Image,p=.9;g.src=e,g.setAttribute("crossOrigin","Anonymous"),g.onload=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,u,d,f,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=this.width,m=this.height,n=document.createElement("canvas"),a=n.getContext("2d"),Math.max(c,m)>t?c>m?(n.width=t,n.height=t*m/c):(n.height=t,n.width=t*c/m):(n.width=c,n.height=m,p=.9),a.clearRect(0,0,n.width,n.height),a.drawImage(this,0,0,n.width,n.height),u=g.src,u.length>1048576&&(u=n.toDataURL("image/jpeg",p)),l.requestM.photo=u,s["a"].loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"上传中"}),1!==r){e.next=16;break}d={photo:l.requestM.photo,suffix:l.requestM.suffix},Object(o["a"])(d).then((function(e){s["a"].clear(),l.fillImg(JSON.parse(e).url)})).catch((function(e){})),e.next=20;break;case 16:return f=l.dataURLtoFile(u,i),v={file:f},e.next=20,Object(o["s"])(v).then((function(e){s["a"].clear(),h=e}));case 20:2===r?(l.img.corporationZImg=h,l.merchantForm.corporationZUrl=h):3===r?(l.img.corporationFImg=h,l.merchantForm.corporationFUrl=h):4===r?(l.img.operatorZImg=h,l.merchantForm.operatorZUrl=h):5===r&&(l.img.operatorFImg=h,l.merchantForm.operatorFUrl=h);case 21:case"end":return e.stop()}}),e,this)})))},fillImg:function(e){this.merchantForm.identUrl=e,this.img.companyImg=this.merchantForm.identUrl},dataURLtoFile:function(e,t){var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,i=new Uint8Array(o);while(o--)i[o]=r.charCodeAt(o);return new File([i],t,{type:a})},printing:function(e){},setAvatar:function(){this.$refs.avatarInput.click()},changeImage:function(e,t){var n=this,a=e.target.files[0],r=a.name;n.requestM.suffix=r.substring(r.lastIndexOf(".")+1);var o=new FileReader;o.readAsDataURL(a),o.onload=function(e){n.dealImage(this.result,1200,this.printing,t,a.name)}},fillInForm:function(e){this.merchantForm.identUrl=e.url,this.img.companyImg=this.merchantForm.identUrl}},Object(i["mapMutations"])(["SET_STATE"])),computed:g(g({Toast:s["a"]},Object(i["mapGetters"])(["name","phone","state"])),{},{companyName:function(){return this.merchantForm.companyName},linkmanName:function(){return this.merchantForm.linkmanName},linkmanEmail:function(){return this.merchantForm.linkmanEmail},linkmanPhone:function(){return this.merchantForm.linkmanPhone},linkmanJob:function(){return this.merchantForm.linkmanJob},offiAddr:function(){return this.merchantForm.offiAddr},ownerName:function(){return this.merchantForm.ownerName},ownerPhone:function(){return this.merchantForm.ownerPhone}}),watch:{companyName:function(e){""!=e&&(this.errorMessage.eCName="")},linkmanName:function(e){""!=e&&(this.errorMessage.eLinkName="")},linkmanJob:function(e){""!=e&&(this.errorMessage.eLinkJob="")},offiAddr:function(e){""!=e&&(this.errorMessage.eAddress="")},ownerName:function(e){""!=e&&(this.errorMessage.eOwnerName="")}}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-info"},[n("van-cell-group",[n("van-cell",{attrs:{title:"企业营业执照",size:"large"},on:{click:function(t){return e.uploadPhoto(1)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:""===e.img.companyImg,expression:"img.companyImg===''"}],staticClass:"upload"},[e._v("上传")]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.img.companyImg,expression:"img.companyImg!==''"}],attrs:{src:e.img.companyImg}})]),e._v(" "),n("van-cell",{attrs:{title:"法人身份证正面",size:"large"},on:{click:function(t){return e.uploadPhoto(2)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:""===e.img.corporationZImg,expression:"img.corporationZImg===''"}],staticClass:"upload"},[e._v("上传")]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.img.corporationZImg,expression:"img.corporationZImg!==''"}],attrs:{src:e.img.corporationZImg}})]),e._v(" "),n("van-cell",{attrs:{title:"法人身份证反面",size:"large"},on:{click:function(t){return e.uploadPhoto(3)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:""===e.img.corporationFImg,expression:"img.corporationFImg===''"}],staticClass:"upload"},[e._v("上传")]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.img.corporationFImg,expression:"img.corporationFImg!==''"}],attrs:{src:e.img.corporationFImg}})]),e._v(" "),n("van-cell",{attrs:{title:"经办人身份证正面",size:"large"},on:{click:function(t){return e.uploadPhoto(4)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:""===e.img.operatorZImg,expression:"img.operatorZImg===''"}],staticClass:"upload"},[e._v("上传")]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.img.operatorZImg,expression:"img.operatorZImg!==''"}],attrs:{src:e.img.operatorZImg}})]),e._v(" "),n("van-cell",{attrs:{title:"经办人身份证反面",size:"large"},on:{click:function(t){return e.uploadPhoto(5)}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:""===e.img.operatorFImg,expression:"img.operatorFImg===''"}],staticClass:"upload"},[e._v("上传")]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.img.operatorFImg,expression:"img.operatorFImg!==''"}],attrs:{src:e.img.operatorFImg}})])],1),e._v(" "),n("van-cell-group",[n("van-field",{staticClass:"inputFont",attrs:{clearable:"",placeholder:"请输入企业名称（需要与营业执照一致）",size:"large","error-message":e.errorMessage.eCName},model:{value:e.merchantForm.companyName,callback:function(t){e.$set(e.merchantForm,"companyName",t)},expression:"merchantForm.companyName"}}),e._v(" "),n("van-field",{staticClass:"inputFont",attrs:{clearable:"",placeholder:"请输入法人姓名",size:"large","error-message":e.errorMessage.eOwnerName},model:{value:e.merchantForm.ownerName,callback:function(t){e.$set(e.merchantForm,"ownerName",t)},expression:"merchantForm.ownerName"}}),e._v(" "),n("van-field",{staticClass:"inputFont",attrs:{clearable:"",placeholder:"请输入企业经办人姓名",size:"large","error-message":e.errorMessage.eLinkName},model:{value:e.merchantForm.linkmanName,callback:function(t){e.$set(e.merchantForm,"linkmanName",t)},expression:"merchantForm.linkmanName"}}),e._v(" "),n("van-field",{staticClass:"inputFont",attrs:{clearable:"",placeholder:"请输入企业经办人手机号",size:"large","error-message":e.errorMessage.eLinkPhone},model:{value:e.merchantForm.linkmanPhone,callback:function(t){e.$set(e.merchantForm,"linkmanPhone",t)},expression:"merchantForm.linkmanPhone"}}),e._v(" "),n("van-field",{staticClass:"inputFont",attrs:{clearable:"",placeholder:"请输入企业办公地址",size:"large","error-message":e.errorMessage.eAddress},model:{value:e.merchantForm.offiAddr,callback:function(t){e.$set(e.merchantForm,"offiAddr",t)},expression:"merchantForm.offiAddr"}})],1),e._v(" "),n("div",[n("van-button",{staticStyle:{"margin-top":"75px"},attrs:{type:"primary",size:"large",color:"#C00000",id:"btnSubmit",disabled:e.btn},on:{click:e.submitF}},[n("span",{staticStyle:{"font-size":"18px"}},[e._v("提交")])])],1),e._v(" "),n("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",id:"choosePhoto1",accept:"image/*"},on:{change:function(t){return e.changeImage(t,1)}}}),e._v(" "),n("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",id:"choosePhoto2",accept:"image/*"},on:{change:function(t){return e.changeImage(t,2)}}}),e._v(" "),n("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",id:"choosePhoto3",accept:"image/*"},on:{change:function(t){return e.changeImage(t,3)}}}),e._v(" "),n("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",id:"choosePhoto4",accept:"image/*"},on:{change:function(t){return e.changeImage(t,4)}}}),e._v(" "),n("input",{ref:"avatarInput",staticStyle:{display:"none"},attrs:{type:"file",id:"choosePhoto5",accept:"image/*"},on:{change:function(t){return e.changeImage(t,5)}}})],1)},d=[],f=n("2455");function v(e){n("1c01")}var w=!1,b=v,F="data-v-0ccc41c4",y=null,I=Object(f["a"])(p,u,d,w,b,F,y);t["default"]=I.exports}}]);